# Local/dev defaults
# Keep context-path empty by default so the app serves at http://localhost:8080/
# Production settings live in application-prod.properties
server.port=8080

# ===========================================
# MHD Document Responder Configuration
# ===========================================

# FHIR Server Base URL (used for absolute URLs in responses)
# Local dev uses localhost:8080, production overrides in application-prod.properties
mhd.fhir-base-url=http://localhost:8080/fhir

# Institution Information
mhd.institution-name=IHE Demo Hospital
mhd.manufacturer-model-name=DICOM Police MHD Responder
mhd.software-version=1.0.0

# Patient ID Issuer
mhd.patient-id-issuer-oid=1.3.6.1.4.1.21297.100.1.1
mhd.patient-id-issuer-local-namespace=HOSPITAL_A

# Accession Number Issuer
mhd.accession-number-issuer-oid=1.3.6.1.4.1.21297.120.1.1

# Repository Information
mhd.repository-unique-id=1.2.3.4.5.6.7.8.9.10
mhd.retrieve-location-uid=1.3.6.1.4.1.21297.150.1.2

# WADO-RS Base URL
mhd.wado-rs-base-url=https://ihebelgium.ehealthhub.be/orthanc/dicom-web/wado-rs/studies

# DICOM Connection Settings (PACS)
# Local dev uses remote C-FIND endpoint, production uses localhost
mhd.calling-aet=DICOMPOLICE
mhd.called-aet=ORTHANC
mhd.remote-host=172.20.240.184
mhd.remote-port=4242
mhd.connect-timeout=5000
mhd.response-timeout=10000

# MHD Document Type Codes
mhd.format-code=urn:ihe:rad:MADO
mhd.format-code-system=urn:oid:1.3.6.1.4.1.19376.1.2.3
mhd.type-code=55115-0
mhd.type-code-system=http://loinc.org
mhd.class-code=IMAGES
mhd.class-code-system=urn:oid:1.3.6.1.4.1.19376.1.2.6.1

# MADO Manifest Generation Settings
# If true, include extended instance-level metadata (Rows, Columns, Bits Allocated, etc.)
# If false (default), only include standard MADO metadata (Instance Number, Number of Frames)
# Recommended: false for standards compliance
mhd.include-extended-instance-metadata=false

# ===========================================
# MADO SCP (Service Class Provider) Configuration
# ===========================================

# AE Title for the SCP
mado.scp.ae-title=MADOSCP

# Port to listen on for DICOM associations
# NOTE: Change this if port 11112 is already in use by another DICOM server
mado.scp.port=11112

# Whether to start the SCP automatically on application startup
# Set to false if you want to start it manually via REST API
mado.scp.auto-start=true

# Maximum PDU length for DICOM associations
mado.scp.max-pdu-length=16384

# Connection timeout in milliseconds
mado.scp.connection-timeout=30000

# Association timeout in milliseconds
mado.scp.association-timeout=60000

# Maximum number of concurrent associations
mado.scp.max-associations=10

# FHIR base URL for MHD queries (same as above)
mado.scp.mhd-fhir-base-url=https://ihebelgium.ehealthhub.be/TheDICOMPolice/fhir

# WADO-RS base URL for retrieving DICOM files
mado.scp.wado-rs-base-url=https://ihebelgium.ehealthhub.be/orthanc/dicom-web/wado-rs/studies

# Directory containing MADO files for indexing
mado.scp.mado-files-directory=MADO_FROM_SCU

# ===========================================
# AE Directory Configuration
# ===========================================

# Default host for unknown AE titles
dicom.ae-directory.default-host=localhost

# Default port for unknown AE titles
dicom.ae-directory.default-port=104

# Known AE entries (add more as needed)
dicom.ae-directory.entries.ORTHANC.host=localhost
dicom.ae-directory.entries.ORTHANC.port=4242
dicom.ae-directory.entries.DCM4CHEE.host=localhost
dicom.ae-directory.entries.DCM4CHEE.port=11112
dicom.ae-directory.entries.MICRODICOM.host=localhost
dicom.ae-directory.entries.MICRODICOM.port=11113
dicom.ae-directory.entries.WEASIS.host=localhost
dicom.ae-directory.entries.WEASIS.port=2205
dicom.ae-directory.entries.CTKSTORE.host=localhost
dicom.ae-directory.entries.CTKSTORE.port=45978

# === C-MOVE Performance Configuration ===
# Number of parallel downloads from WADO-RS (default: 5)
mado.scp.max-parallel-downloads=5
# Number of parallel C-STORE operations (default: 3)
mado.scp.max-parallel-stores=3

# === DICOM Instance Cache Configuration ===
# Enable caching of downloaded DICOM instances (default: true)
dicom.cache.enabled=true
# Maximum cache size in MB (default: 500)
dicom.cache.max-size-mb=500
# Cache entry TTL in minutes (default: 5)
dicom.cache.ttl-minutes=5

# Enable WADO-RS proxy mode (default: false)
qido.rs.wado-proxy-enabled=true

# Base URL for this service (used for URL rewriting in proxy mode)
qido.rs.base-url=http://localhost:8080/dicomweb